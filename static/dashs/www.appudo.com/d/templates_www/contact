{"foot":"<style name=\"stl_contact\">\n    #ctFrm {\n        width: 500px;   \n        overflow:hidden; \n    }\n    \n    #ctFrm label {\n        margin-top:10px;\n        display:block;\n    }\n    \n    #ct_err {\n        color:red;\n    }\n    \n    #ct_mail, #ct_msg {\n        width:412px;\n    }\n    \n    \n    #ct_comment {\n        float left;\n        margin-left:801px;\n    }\n    \n    #ct_sub {\n        float:right;\n        margin-right:80px;\n    }\n    \n    #ct_head {\n        font-weight:bold;\n        margin-bottom:10px;\n    }\n</style>","body": {"minit":"<script>minit('contact',['content'], {srefs:['content'],sid:'stl_contact'});</script>","misc":"<script>moduleCtx['contact']=function(){\n    return {\n         sname:null,\n         dec : function(idx) {\n            var _this = this;\n            var sub = $(\"#ct_sub\");\n            sub.attr('value', \"Wait \" + idx);\n            if(--idx < 0)\n            {\n                sub.attr('value', _this.sname);\n                sub.attr('disabled', false);\n                return;\n            }\n            setTimeout(function() {\n                _this.dec(idx);\n            }, 1000);\n        },\n        checkFrm : function() {\n            var err = $(\"#ct_err\");\n            var txt = $(\"#ct_msg\");\n            err.html('');\n            err.css('display', 'none');\n            if(txt[0].value.length > 1000) {\n                err.css('display', 'block');\n                err.html('Your request has ' + txt[0].value.length + ' characters.<br> We only support requests up to 1000 characters.');\n                return false;\n            }\n            return true;\n        },\n        run : function() {\n            var _this = this;\n            var frm = $('#ctFrm');\n            var sub = $(\"#ct_sub\");\n            var hash = $(\"#ct_hash\");\n            if(sub) {\n                sname = sub.attr('value');\n                sub.attr('disabled', true);\n                _get('/contact/', function(data) {\n                    hash.attr('value', data);\n                    _this.dec(5);\n                });\n            }\n            \n            frm.submit(function(e) {\n                e.preventDefault();\n                if(_this.checkFrm()) {\n                    var d = frm.serializeJSON();\n                    _post('/contact/', d, function(data) {\n                        console.log(data);\n                    });\n                }\n            })\n        }\n    }\n}();</script>","content":"<div class=\"linner\"><div id=\"frm\"><h3 id=\"ct_head\">Contact Form</h3><div id=\"ct_err\" style=\"display:none;\">ERROR</div><form id=\"ctFrm\" method=\"POST\" action=\"/contact/\"><input type=\"hidden\" id=\"ct_hash\" name=\"hash\" value=\"\"><label>Your Email:</label><input type=\"email\" id=\"ct_mail\" name=\"mail\" required=\"\"><label>Your Request (max. 1000 characters):</label><textarea id=\"ct_msg\" name=\"msg\" cols=\"50\" rows=\"13\" required=\"\"></textarea><input tabindex=\"-1\" type=\"text\" id=\"ct_comment\" name=\"comment\"><input type=\"submit\" id=\"ct_sub\" value=\"Send\"></form></div></div>"}}