{"head":"\n    <style name=\"mstl\">\n        #frmBox {\n            display:inline-block;\n            padding:10px;\n            background:#efefef;\n            -pie-background: linear-gradient(top,#efefef 0%,#e2e2e2 100%);\n            background:-webkit-gradient(linear, left top, left bottom, color-stop(0%,#efefef), color-stop(100%,#e2e2e2));\n            background:-webkit-linear-gradient(top,#efefef 0%,#e2e2e2 100%);\n            background:-moz-linear-gradient(top,#efefef 0%,#e2e2e2 100%);\n            background:-ms-linear-gradient(top,#efefef 0%,#e2e2e2 100%);\n            background:linear-gradient(top,#efefef 0%,#e2e2e2 100%);\n            background:-o-linear-gradient(top,#efefef 0%,#e2e2e2 100%);\n            border-radius:3px;\n            border:1px solid #223560;\n        }\n    </style>\n","body": {"minit":"<script>minit('domain_add',['content'], []);</script>","misc":"<script>moduleCtx['domain_add']=function(){\n    return {\n        rstFrm : function(frm) {\n            this.rstFrmErr(frm);\n            frm[0].reset();\n        },\n        rstFrmErr : function(frm) {\n            // TODO remove error messages\n        },\n        validateFrm : function(frm) {\n            var _this = this;\n            var data = frm.serializeJSON();\n            _this.doSubmit.call(_this, data);\n        },\n        errSubmit : function(data) {\n                // todo submit ERROR\n        },\n        finSubmit : function() {\n                    this.rstFrm($('#theFrm'));\n        },\n        doSubmit : function(data) {\n            var _this = this;\n            showLoad();\n            $.post( '/server/', {data:JSON.stringify({cmd:9,data:JSON.stringify(data)})}, function(res) {\n                hideLoad();\n                var data = validateRes(res);\n                if(!data) {\n                    return;\n                }\n                if(data.r == 0) {\n                    _this.finSubmit()\n                } else {\n                    // TODO error\n                }\n            });\n        },\n        run : function() {\n            var _this = this;\n            var frm = $('#theFrm');\n\n            frm.submit(function(e) {\n                e.preventDefault();\n                _this.validateFrm.call(_this, frm);\n            });\n        }\n    }\n}();</script>","content":"\n    <h3>{{dmn.head}}</h3>\n    <pre>{{dmn.txt}}</pre>\n    <div id=\"frmBox\">\n        <form id=\"theFrm\" class=\"frm min\">\n            <label for=\"an\">{{frm.an}}*:</label><input type=\"text\" id=\"an\" name=\"an\" required=\"\">\n            <label for=\"dn\">{{frm.dn}}*:</label><input type=\"text\" id=\"dn\" name=\"dn\" pattern=\"^([a-zA-Z0-9]([a-zA-Z0-9\\-]{0,61}[a-zA-Z0-9])?\\.)+[a-zA-Z]{2,6}$\" required=\"\">\n            <label for=\"sn\">{{frm.sn}}:</label><input type=\"text\" id=\"sn\" name=\"sn\">\n            <label for=\"se\">{{frm.se}}</label><input type=\"checkbox\" id=\"se\" name=\"se\" value=\"se\">\n            <label for=\"sc\">{{frm.sc}}</label><input type=\"checkbox\" id=\"sc\" name=\"sc\" value=\"sc\">\n            <div style=\"clear:both;\"></div>\n            <div>\n                <button type=\"submit\" style=\"float:right;margin-top:5px;margin-right:10px\">{{frm.sub}}</button>\n            </div>\n        </form>\n        <div style=\"clear:both;\"></div>\n    </div>\n"}}
