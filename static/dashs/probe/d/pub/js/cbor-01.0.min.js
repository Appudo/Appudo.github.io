/*
 * The MIT License (MIT)
 *
 * Copyright (c) 2014-2016 Patrick Gansterer <paroga@paroga.com>
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */
!function(e,r){"use strict";var n=5.960464477539063e-8,t=4294967296,i=9007199254740992,u=8192;var f={encode:function(e){var n,u=new ArrayBuffer(256),f=new DataView(u),a=0;function o(e){for(var r=u.byteLength,t=a+e;r<t;)r<<=1;if(r!==u.byteLength){var i=f;u=new ArrayBuffer(r),f=new DataView(u);for(var o=a+3>>2,s=0;s<o;++s)f.setUint32(s<<2,i.getUint32(s<<2))}return n=e,f}function s(){a+=n}function c(e){s(o(1).setUint8(a,e))}function h(e){for(var r=o(e.length),n=0;n<e.length;++n)r.setUint8(a+n,e[n]);s()}function l(e,r){var n;r<24?c(e<<5|r):r<256?(c(e<<5|24),c(r)):r<65536?(c(e<<5|25),n=r,s(o(2).setUint16(a,n))):r<4294967296?(c(e<<5|26),function(e){s(o(4).setUint32(a,e))}(r)):(c(e<<5|27),function(e){var r=e%t,n=(e-r)/t,i=o(8);i.setUint32(a,n),i.setUint32(a+4,r),s()}(r))}if(function e(n){var t;if(!1===n)return c(244);if(!0===n)return c(245);if(null===n)return c(246);if(n===r)return c(247);switch(typeof n){case"number":if(Math.floor(n)===n){if(0<=n&&n<=i)return l(0,n);if(-i<=n&&n<0)return l(1,-(n+1))}return c(251),function(e){s(o(8).setFloat64(a,e))}(n);case"string":var u=[];for(t=0;t<n.length;++t){var f=n.charCodeAt(t);f<128?u.push(f):f<2048?(u.push(192|f>>6),u.push(128|63&f)):f<55296?(u.push(224|f>>12),u.push(128|f>>6&63),u.push(128|63&f)):(f=(1023&f)<<10,f|=1023&n.charCodeAt(++t),f+=65536,u.push(240|f>>18),u.push(128|f>>12&63),u.push(128|f>>6&63),u.push(128|63&f))}return l(3,u.length),h(u);default:var v;if(Array.isArray(n))for(l(4,v=n.length),t=0;t<v;++t)e(n[t]);else if(n instanceof Uint8Array)l(2,n.length),h(n);else{var g=Object.keys(n);for(l(5,v=g.length),t=0;t<v;++t){var w=g[t];e(w),e(n[w])}}}}(e),"slice"in u)return u.slice(0,a);for(var v=new ArrayBuffer(a),g=new DataView(v),w=0;w<a;++w)g.setUint8(w,f.getUint8(w));return v},decode:function(e,i,f){var a=new DataView(e),o=0;function s(e,r){return o+=e,r}function c(r){return s(r,new Uint8Array(e,o,r))}function h(){return s(1,a.getUint8(o))}function l(){return s(2,a.getUint16(o))}function v(){return s(4,a.getUint32(o))}function g(){return 255===a.getUint8(o)&&(o+=1,!0)}function w(e){if(e<24)return e;if(24===e)return h();if(25===e)return l();if(26===e)return v();if(27===e)return v()*t+v();if(31===e)return-1;throw"Invalid length encoding"}function p(e){var r=h();if(255===r)return-1;var n=w(31&r);if(n<0||r>>5!==e)throw"Invalid indefinite length element";return n}function d(e,r){for(var n=0;n<r;++n){var t=h();128&t&&(t<224?(t=(31&t)<<6|63&h(),r-=1):t<240?(t=(15&t)<<12|(63&h())<<6|63&h(),r-=2):(t=(15&t)<<18|(63&h())<<12|(63&h())<<6|63&h(),r-=3)),t<65536?e.push(t):(t-=65536,e.push(55296|t>>10),e.push(56320|1023&t))}}"function"!=typeof i&&(i=function(e){return e}),"function"!=typeof f&&(f=function(){return r});var y=function e(){var t,v,y=h(),U=y>>5,A=31&y;if(7===U)switch(A){case 25:return function(){var e=new ArrayBuffer(4),r=new DataView(e),t=l(),i=32768&t,u=31744&t,f=1023&t;if(31744===u)u=261120;else if(0!==u)u+=114688;else if(0!==f)return(i?-1:1)*f*n;return r.setUint32(0,i<<16|u<<13|f<<13),r.getFloat32(0)}();case 26:return s(4,a.getFloat32(o));case 27:return s(8,a.getFloat64(o))}if((v=w(A))<0&&(U<2||6<U))throw"Invalid length";switch(U){case 0:return v;case 1:return-1-v;case 2:if(v<0){for(var b=[],m=0;(v=p(U))>=0;)m+=v,b.push(c(v));var B=new Uint8Array(m),C=0;for(t=0;t<b.length;++t)B.set(b[t],C),C+=b[t].length;return B}return c(v);case 3:var D=[];if(v<0)for(;(v=p(U))>=0;)d(D,v);else d(D,v);var V="";for(t=0;t<D.length;t+=u)V+=String.fromCharCode.apply(null,D.slice(t,t+u));return V;case 4:var F;if(v<0)for(F=[];!g();)F.push(e());else for(F=new Array(v),t=0;t<v;++t)F[t]=e();return F;case 5:var I={};for(t=0;t<v||v<0&&!g();++t)I[e()]=e();return I;case 6:return i(e(),v);case 7:switch(v){case 20:return!1;case 21:return!0;case 22:return null;case 23:return r;default:return f(v)}}}();if(o!==e.byteLength)throw"Remaining bytes";return y}};"function"==typeof define&&define.amd?define("cbor/cbor",f):"undefined"!=typeof module&&module.exports?module.exports=f:e.CBOR||(e.CBOR=f)}(this);